<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="https://github.com/570911275/570911275.github.io/page/4/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://github.com/570911275/570911275.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-JavaEE之JSTL表达式小结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/19/JavaEE之JSTL表达式小结/" class="article-date">
  <time datetime="2019-07-19T03:07:44.000Z" itemprop="datePublished">2019-07-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/19/JavaEE之JSTL表达式小结/">JavaEE之JSTL表达式小结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="JSTL"><a href="#JSTL" class="headerlink" title="JSTL"></a>JSTL</h2><pre><code>1. 概念：JavaServer Pages Tag Library JSP标准标签库
     *是由Apache组织提供的开源的免费的jsp标签

2. 作用：用于简化和替换jsp页面上的java代码

3. 步骤：
     1.导入jstl相关的jar包
     2.引入标签库：taglib指令： &lt;%@ taglib %&gt;
     3.使用标签

4. 常用的jstl标签
    1.if       :相当于java代码的if语句
         1.属性：
            *test 必须属性，接受boolea表达式
                *如果表达式为true，则显示if标签体内容。如果为false，则不需要显示标签体内容

                *一般情况下，test属性会结合el表达式一起使用

         2.注意：
            *c:if标签无else情况，想要else情况，则可以再定义一个c:if标签
    2.choose   :相当于java代码的switch语句
         *完成数组编号对应星期几案例
             1.域中存储一个数字
             2.使用choose标签取出数字           相当于switch声明
             3.使用when标签做数字判断           相当于case
             4.otherwise标签做其他情况的声明    相当于default
    3.foreach  :相当于java代码的for语句
         1.完成重复的操作
         for(int i=0;i&lt;10;i++){
         }
         *属性：
            begin：开始值
            end：结束值
            var：临时变量
            step：步长（临时变量每次增长多少）
            varStatus:循环状态对象
                 index:容器中元素的索引，从0开始
                 count：循环次数从1开始
         2.遍历容器
         List&lt;User&gt; list = new ArrayList&lt;User&gt;();
         foreach(User user:list){
         }
         *属性：
             items：容器对象
             var：容器中元素的临时变量
             varStatus:循环状态对象
                 index:容器中元素的索引，从0开始
                 count：循环次数从1开始
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/570911275/570911275.github.io/2019/07/19/JavaEE之JSTL表达式小结/" data-id="cjyr8j4us000yw8tn9n17jwpd" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javaEE-基础/">javaEE_基础</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-JavaEE之EL表达式小结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/19/JavaEE之EL表达式小结/" class="article-date">
  <time datetime="2019-07-19T01:27:14.000Z" itemprop="datePublished">2019-07-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/19/JavaEE之EL表达式小结/">JavaEE之EL表达式小结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="EL表达式"><a href="#EL表达式" class="headerlink" title="EL表达式"></a>EL表达式</h2><pre><code>1. 概念：Expression Language 表达式语言

2. 作用：替换和简化jsp页面中java代码的编写

3. 语法：${表达式}  

4. 注意：
   *jsp中为默认支持el表达式的。如果要忽略el表达式
      1.设置jsp中page指令中：isELIgnored=&quot;true&quot;  忽略当前页面中所有的el表达式
      &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; isELIgnored=&quot;true&quot; %&gt; 
      2.、${表达式} 忽略当前此el表达式
                 \${3&gt;4}

5. 使用：
    1. 运算：
        *运算符：
           1.算数运算符：+ - * /(div) %(mod)
           2.比较运算符: &gt; &lt; &gt;= &lt;= !=
           3.逻辑运算符: &amp;&amp;(and) ||(or) !(not)
           4.空运算符  : empty
                *功能：用于判断字符串、集合、数组对象是否为null，长度是否为0
                *${empty list}：判断字符串、集合、数组对象是否为null，长度是否为0
                *${not empty str}:表示判断字符串、集合、数组对象是否不为null，且长度大于0
    2. 获取值
         1. el表达式只能从域对象中获取值
         2. 语法：
              1. ${域名称.键名}：从指定域中获取指定键的值
                   *域名称：
                     1.pageScope  --&gt;  pageContext
                     2.requestScope  --&gt;  request
                     3.sessionScope  --&gt;  session
                     4.applicationScope  --&gt;  application (ServletContext)
                    *举例:在request域中存储了name=张三
                          ${requestScope.name}

               2. ${键名}：表示依次从最小的域中查找是否有该键对应的值，直到找到为止。
                       ${name}：先从pageContext中查找，若无则前往request中查找。依次进行

               3. 获取对象、List集合、Map集合的值
                   1. 对象：${域名称.键名.属性名}
                     *本质上会去调用对象的getter方法

                   2. List集合：${域名。键名[索引]}
                          *如果该索引位置为对象，则先表示出对象，若需要单独的属性名则单独表示
                                  对 象            属性
                           ${requestScope.list[2].name }

                   3. Map集合：
                          *${域名称.键名.key名称}
                          *${域名称.键名[&quot;key名称&quot;]} 
                          *如果该索引位置为对象，则先表示出对象，若需要单独的属性名则单独表示
                                  对 象             属性
                           ${requestScope.map.user.name}

 3. 隐式对象：
      *el表达式中有11个隐式对象
      *pageContext：
         *获取jsp其他8个内置对象
             *${pageContext.request.contextPath}:动态获取虚拟目录
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/570911275/570911275.github.io/2019/07/19/JavaEE之EL表达式小结/" data-id="cjyr8j4tw000dw8tndfp1f06g" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javaEE-基础/">javaEE_基础</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-JavaEE之MVC概念小结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/18/JavaEE之MVC概念小结/" class="article-date">
  <time datetime="2019-07-18T13:56:24.000Z" itemprop="datePublished">2019-07-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/18/JavaEE之MVC概念小结/">JavaEE之MVC概念小结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="MVC：开发模式"><a href="#MVC：开发模式" class="headerlink" title="MVC：开发模式"></a>MVC：开发模式</h2><pre><code>1.JSP演变历史
    1. 早期只有servlet，只能使用response输出标签数据，非常的麻烦
    2. 后来有了jsp,简化了Servlet的开发，如果过度使用jsp,在jsp中即写大量的java代码，有写HTML表，造成难于维护，难于分工协作
    3. 再后来，java的web开发，借鉴mvc开发模式，使得程序的设计更加合理性

2.MVC:降低耦合度
    1. M：Model,模型   JavaBean
          *完成具体的业务操作，如：查询数据库，封装对象
    2. V：View,视图    JSP
          *展示数据 
    3. C：Controller,控制器   Servlet
          *获取用户的输入
          *调用模型
          *将数据交给视图进行展示

3.流程
            调用
    1.控制器————&gt;模型：模型进行业务操作（数据从数据库查询等）

    2.模型————&gt;控制器：返回数据

    3.控制器————视图： 展示

            *控制器：获取客户端的输入  （Servlet）
                    调用模型
                    将数据交给视图展示

            *模型： 业务逻辑操作（JavaBean）

            *视图： 展示数据    (JSP)


  4. 优缺点
       1.优点：
           *耦合性低——&gt;方便维护，利于分工协作
           *重用性高
           *可维护性高

       2.缺点： 
            *使得项目架构变得复杂，对开发人员要求高
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/570911275/570911275.github.io/2019/07/18/JavaEE之MVC概念小结/" data-id="cjyr8j4uv0010w8tntg5eh2tw" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javaEE-基础/">javaEE_基础</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-JavaEE之JSP补充学习小结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/18/JavaEE之JSP补充学习小结/" class="article-date">
  <time datetime="2019-07-18T13:18:37.000Z" itemprop="datePublished">2019-07-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/18/JavaEE之JSP补充学习小结/">JavaEE之JSP补充学习小结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="JSP补充学习"><a href="#JSP补充学习" class="headerlink" title="JSP补充学习"></a>JSP补充学习</h2><pre><code>1. 指令
    *作用：用于配置JSP页面，导入资源文件
    *格式：
       &lt;%@ 指令名称 属性名1=属性值1 属性名2=属性值2%&gt;//多个属性名=属性值之间用空格隔开
    *分类：
       1. page    :配置JSP页面的
            *contentType ： 等同于response.setContentType()
                1.设置响应体的mime类型以及字符集
                2.设置当前jsp页面的编码（只能是高级的IDE才能生效，如果使用低级工具，则需要设置pageEncoding属性设置当前页面的字符集）
            *import：导包
            *errorPage：当前页面发生异常后，会自动跳转到指定的错误页面
            *isErrorPage：标识当前页面是否是错误页面
                 1.true：是，可以使用内置对象exception
                 2.false。否，默认值。不可以使用内置对象exception

       2. include :页面包含的。导入页面的资源文件
            *&lt;%@include file=&quot;top.jsp&quot;%&gt;
            *不同文件之间相互导入，例如导入头标签等

       3. taglib  :导入资源（导入标签库）
            *&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;
               *prefix:前缀，自定义的

 2. 注释：
     1. html注释：
        &lt;!----!&gt;:只能注释html代码片段 
     2. jsp注释：推荐使用
        &lt;%----%&gt;:可以注释所有

 3. 内置对象
       *在JSP页面中不需要创建，直接使用的对象
       *一共有9个：
          *域对象是用来共享数据的，需要得知域的范围
              变量名                      真实类型                      作用
          *pageContext//域对象           PageContext                 当前页面共享数据，还可以获取其他其他8个内置对象
          *request//域对象               HttpServletRequest          一次请求访问的多个资源(转发)
          *session//域对象               HttpSession                 一次会话的多个请求间
          *application//域对象           ServletContext              所有用户间共享数据
          *response//响应对象            HttpServletResponse         响应对象
          *page                         Object                      当前页面(Servlet)的对象——&gt; this的引用
          *out//输出对象                 JSPWriter                   输出对象，数据输出到页面上
          *config//配置对象              ServletConfig               Servlet的配置对象
          *exception                    Throwable                   异常对象
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/570911275/570911275.github.io/2019/07/18/JavaEE之JSP补充学习小结/" data-id="cjyr8j4ul000tw8tns8ekatch" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javaEE-基础/">javaEE_基础</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-JavaEE之Session小结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/18/JavaEE之Session小结/" class="article-date">
  <time datetime="2019-07-18T11:50:15.000Z" itemprop="datePublished">2019-07-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/18/JavaEE之Session小结/">JavaEE之Session小结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h2><pre><code>1.概念：服务器端会话技术，在一次会话的多次请求共享数据，将数据保存在服务器端的对象中。HttpSession

2.快速入门：
    1.获取HttpSession对象：
        HttpSession session = request.getSession();
    2.使用HttpSession对象:
        Object getAttribute(String name)
        void setAttribute(String name,Object value)
        void removeAttribute(String name)

3. 服务器如何在一次会话范围内，多次获取的Session对象是同一个？？？
    *原理：Session是依赖于Cookie的（通过请求和响应头）
    *Session的指向过程：
         1.第一次获取Session，没有Cookie，会在从内存中创建一个新的Session对象
         2.生成一SessionID
         3.发生响应：set-cookie：JSESSIONID = 131565(此id为步骤2生成)
         4.客户端存储此id
         5.发生请求：cookie：JSESSIONID = 131565
         6.服务器根据请求头带回的id，查找内存中是否有该id。

4. 细节：
    1. 当客户端关闭后，服务器不关闭，两次获取session是否为同一个？
        *默认情况下，不是。
        *如果需要相同，则可以创建Cookie，键位JSESSIONID，设置最大存活时间，让cookie持久化保存
        <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Cookie c = new Cookie(&quot;JSESSIONID&quot;,session.getId());</span><br><span class="line">c.setMaxAge(60*60);</span><br><span class="line">response.addCookie(c);</span><br></pre></td></tr></table></figure>

    2. 客户端不关闭，服务器关闭，两次获取session是同一个么？
        *对象不是同一个，但是要确保数据不丢失
         org.apache.catalina.session.StandardSessionFacade@3fc2ce0b
         org.apache.catalina.session.StandardSessionFacade@3af545d7

            *session的钝化：(序列化)
                *在服务器正常关闭之前，将session对象系列化到硬盘上
            *session的活化：(反序列化)
                *在服务器启动后，将session文件转化为内存中的session对象
            *钝化和活化需要在Tomcat，在idea中无法实现

    3. session什么时候被销毁？
           1.服务器关闭
           2.session对象调用invalidate()。自己销毁了自己
           3.session的默认失效时间。30分钟
              选择性配置修改
               &lt;session-config&gt;
                   &lt;session-timeout&gt;30&lt;/session-timeout&gt;
               &lt;/session-config&gt;

5. session的特点
    1.session用于存储一次会话的多次请求的数据，存在服务器端
    2.session可以存储任意类型，任意大小的数据

  *session与cookie的区别
    1.session存储数据在服务器端，cookie在客户端
    2.session没有数据大小限制，cookie有
    3.session数据安全，cookie相对于不安全
</code></pre><h2 id="案例：验证码"><a href="#案例：验证码" class="headerlink" title="案例：验证码"></a>案例：验证码</h2><pre><code>1.案例需求：
   1. 访问带有验证码的登录界面login.jsp
   2. 用户输入用户名，密码以及验证码
       *如果用户名和密码输入有误，跳转登录页面提示：用户名或密码错误
       *如果验证码输入有误，跳转登录页面，提示验证码错误
       *如果全部输入正确，跳转到注意success.jsp。显示：用户名，欢迎你
</code></pre><h4 id="验证码的改进"><a href="#验证码的改进" class="headerlink" title="验证码的改进"></a>验证码的改进</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">public class CheckCodeServlet extends HttpServlet &#123;</span><br><span class="line">    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">        int width = 100;</span><br><span class="line">        int height = 50;</span><br><span class="line">        //1.创建一对象，在内存中图片(验证码图片对象)</span><br><span class="line">        BufferedImage image = new BufferedImage(width,height,BufferedImage.TYPE_INT_RGB);</span><br><span class="line"></span><br><span class="line">        //2.美化图片</span><br><span class="line">        //2.1填充背景色</span><br><span class="line">        Graphics gs = image.getGraphics();//画笔对象</span><br><span class="line">        gs.setColor(Color.PINK);</span><br><span class="line">        gs.fillRect(0,0,width,height);</span><br><span class="line">        //2.2</span><br><span class="line">        gs.setColor(Color.BLUE);</span><br><span class="line">        gs.drawRect(0,0,width-1,height-1);</span><br><span class="line">        //2.3写验证码</span><br><span class="line">        String str =&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789&quot;;</span><br><span class="line">        //生成随机角标</span><br><span class="line">        Random ran = new Random();</span><br><span class="line">        StringBuilder sb = new StringBuilder();</span><br><span class="line">        for(int i=0;i&lt;4;i++) &#123;</span><br><span class="line">            int index = ran.nextInt(str.length());</span><br><span class="line">            //获取字符</span><br><span class="line">            char ch = str.charAt(index);//随机字符</span><br><span class="line">            sb.append(ch);</span><br><span class="line">            gs.drawString(ch+&quot;&quot;, width/5*i, height/2);</span><br><span class="line">        &#125;</span><br><span class="line">        String checkCode_session = sb.toString();</span><br><span class="line">        //将验证码存入session</span><br><span class="line">        request.getSession().setAttribute(&quot;checkCode_session&quot;,checkCode_session);</span><br><span class="line">        //2.4画干扰线</span><br><span class="line">        gs.setColor(Color.GREEN);</span><br><span class="line">        //随机生成坐标点</span><br><span class="line">       for(int i=0;i&lt;10;i++)&#123;</span><br><span class="line">           int x1 = ran.nextInt(width);</span><br><span class="line">           int x2 = ran.nextInt(width);</span><br><span class="line">           int y1 = ran.nextInt(height);</span><br><span class="line">           int y2 = ran.nextInt(height);</span><br><span class="line">           gs.drawLine(x1,x2,y1,y2);</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">        //3.将图片输出到页面展示</span><br><span class="line">        ImageIO.write(image,&quot;jpg&quot;,response.getOutputStream());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">        this.doPost(request,response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="登录界面以及验证码点击刷新世间函数的优化"><a href="#登录界面以及验证码点击刷新世间函数的优化" class="headerlink" title="登录界面以及验证码点击刷新世间函数的优化"></a>登录界面以及验证码点击刷新世间函数的优化</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;登录界面&lt;/title&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        window.onload = function()&#123;</span><br><span class="line">            document.getElementById(&quot;img&quot;).onclick = function()&#123;</span><br><span class="line">                this.src=&quot;/day16/checkCodeServlet?time=&quot;+ new Date().getTime();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        div&#123;</span><br><span class="line">            color:red;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=&quot;/day16/loginServlet&quot; mothod = &quot;post&quot;&gt;</span><br><span class="line">    &lt;table&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td&gt;用户名&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;&lt;input type=&quot;text&quot; name =&quot;username&quot;&gt;&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td&gt;密码&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;&lt;input type=&quot;text&quot; name =&quot;password&quot;&gt;&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td&gt;验证码输入框&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;&lt;input type=&quot;text&quot; name =&quot;checkCode&quot;&gt;&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td colspan=&quot;2&quot;&gt;&lt;img id=&quot;img&quot; src=&quot;/day16/checkCodeServlet&quot;&gt;&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td colspan=&quot;2&quot;&gt;&lt;input type=&quot;submit&quot; value=&quot;登录&quot;&gt;&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">    &lt;/table&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;&lt;%= request.getAttribute(&quot;cc_error&quot;) == null ? &quot;&quot;: request.getAttribute(&quot;cc_error&quot;)%&gt;&lt;/div&gt;</span><br><span class="line">&lt;div&gt;&lt;%= request.getAttribute(&quot;login_error&quot;) == null ? &quot;&quot;:request.getAttribute(&quot;login_error&quot;)%&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h4 id="登录的逻辑判断"><a href="#登录的逻辑判断" class="headerlink" title="登录的逻辑判断"></a>登录的逻辑判断</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">public class LoginServlet extends HttpServlet &#123;</span><br><span class="line">    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">        //1.设置request编码</span><br><span class="line">        request.setCharacterEncoding(&quot;utf-8&quot;);</span><br><span class="line"></span><br><span class="line">        //2.获取参数Map</span><br><span class="line">        String username =  request.getParameter(&quot;username&quot;);</span><br><span class="line">        String password =  request.getParameter(&quot;password&quot;);</span><br><span class="line">        String checkCode =  request.getParameter(&quot;checkCode&quot;);</span><br><span class="line"></span><br><span class="line">        //3.获取生成的验证码</span><br><span class="line">        HttpSession session = request.getSession();</span><br><span class="line">        String checkCode_session = (String) session.getAttribute(&quot;checkCode_session&quot;);</span><br><span class="line">        //删除session中存储的验证码</span><br><span class="line">        session.removeAttribute(&quot;checkCode_session&quot;);</span><br><span class="line">        //4.判断验证码是否正确</span><br><span class="line">        if(checkCode_session!=null &amp;&amp; checkCode_session.equalsIgnoreCase(checkCode))&#123;</span><br><span class="line">            //忽略大小写比较</span><br><span class="line">            //验证码正确</span><br><span class="line">            //判断用户名和密码是否一致</span><br><span class="line">            if(&quot;huangyaya&quot;.equals(username) &amp;&amp; &quot;niubi&quot;.equals(password))&#123;</span><br><span class="line">                //需要调用UserDao查询数据库</span><br><span class="line">                //登录成功</span><br><span class="line">                //存储信息，用户信息</span><br><span class="line">                session.setAttribute(&quot;user&quot;,username);</span><br><span class="line">                //重定向到succcess.jsp</span><br><span class="line">                response.sendRedirect(request.getContextPath()+&quot;/success.jsp&quot;);</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                //登录失败</span><br><span class="line">                //存储提示信息到request</span><br><span class="line">                request.setAttribute(&quot;login_error&quot;,&quot;用户名或密码错误&quot;);</span><br><span class="line">                //转发到登录页面</span><br><span class="line">                request.getRequestDispatcher(&quot;/login.jsp&quot;).forward(request,response);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            //验证码不正确</span><br><span class="line">            //存储提示信息到request</span><br><span class="line">            request.setAttribute(&quot;cc_error&quot;,&quot;验证码错误&quot;);</span><br><span class="line">            //转发到登录页面</span><br><span class="line">            request.getRequestDispatcher(&quot;/login.jsp&quot;).forward(request,response);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">        this.doPost(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/570911275/570911275.github.io/2019/07/18/JavaEE之Session小结/" data-id="cjyr8j4wo001nw8tn75irqcwl" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javaEE-基础/">javaEE_基础</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-JavaEE之JSP入门学习小结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/18/JavaEE之JSP入门学习小结/" class="article-date">
  <time datetime="2019-07-18T08:35:43.000Z" itemprop="datePublished">2019-07-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/18/JavaEE之JSP入门学习小结/">JavaEE之JSP入门学习小结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="JSP入门学习"><a href="#JSP入门学习" class="headerlink" title="JSP入门学习"></a>JSP入门学习</h2><pre><code>1. 概念：
   *Java Server Pages: java服务器端页面
     *可以理解为一个特殊的页面，其中既可以定义HTML标签，又可以定义java代码
     *用于简化书写！！！

 2. 原理：
    *JSP本质上就是一个Servlet

 3. JSP的的脚本：
       *JSP定义java代码的方式
       1.&lt;% 代码 %&gt;：定义的java代码，在service方法中。Service方法中可以定义什么，该脚本中就可以定义什么
       2.&lt;%! 代码 %&gt;： 定义的java代码，在jsp转换后的java类的成员位置。用的较少，尽量不要尽量成员变量，不然容易尝试线程错误
       3.&lt;&lt;%= 代码 %&gt;&gt;：定义的java代码，会输出到页面上，输出语句中可以定义什么，该脚本中就可以定义什么

 4. JSP的内置对象：
      *在JSP页面中不需要获取和创建，就可以直接使用的对象
      *在JSP中一共有9个内置对象
      *3个基本内置对象：
           *request：请求
           *response：响应
           *out：字符输出流对象。可以将数据输出到页面上。与response,getWriter()类似
               *response.getWriter()和out.write()的区别：
                  1.在Tomcat服务器真正给客户端做出响应之前，会先找response缓冲区数据，再找out缓冲区数据
                  2.response.getWriter（）数据永远在out.Write()之前
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/570911275/570911275.github.io/2019/07/18/JavaEE之JSP入门学习小结/" data-id="cjyr8j4uj000rw8tnxssav09u" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javaEE-基础/">javaEE_基础</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-JavaEE之Cookie小结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/18/JavaEE之Cookie小结/" class="article-date">
  <time datetime="2019-07-18T07:22:03.000Z" itemprop="datePublished">2019-07-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/18/JavaEE之Cookie小结/">JavaEE之Cookie小结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h2><pre><code>1.概念：客户端会话技术，将数据保存到客户端

2.快速入门：
    *使用步骤：
       1.创建Cookie对象，绑定数据
            *new Cookie(String name,String value)
       2.发送Cookie对象
            *response,addCookie(Cookie cookie)
       3.获取Cookie，拿到数据
            *Cookie[] request.getCookies()\

3.实现原理：
    *基于响应头set-cookie和请求头cookie实现

4.Cookie的细节：
     1.一次可不可以发送多个Cookie？
         *可以
         *可以创建多个Cookie对象，使用response调用多次addCookie方法发送Cookie即可。

     2.Cookie在浏览器中保存多长时间？
         1.默认情况下：当浏览器关闭后，Cookie数据被销毁
         2.持久化存储：
                *setMaxAge(int seconds)
                   1.正数：将Cookie数据写到硬盘的文件中。持久化存储。cookie存活时间
                   2.负数：默认值
                   3.零：删除Cookie信息

     3.Cookie能不能存中文？
          *在Tomcat8 之前 cookie中不能直接存储中文数据。
                 *需要将中文数据转码 ----一般采用URL编码(%)
          *在Tomcat8 之后 cookie支持中文数据。

     4.Cookie共享问题？
         1.*假设在一个Tomcat服务器中，部署了多个web项目，那么在这些web项目中cookie能不能共享？
              *默认情况下cookie不能共享

              *setPath（String path）:设置cookie的获取范围。默认情况下，设置当前的虚拟目录
              *如果要共享，则可以将path设置为“/” ；setPath（/）此情况下，可使得不同项目之间相互共享 

         2.不同的Tomcat服务器间cookie共享问题？
               *调用setDomain(String path//字符串的一个域名)：如果设置一级域名相同，那么多个服务器之间可以共享
                    *setDomain（“.baidu.com）；
                        那么tieba.baidu.com和news.baidu.com之间可以共享

 5. Cookie的特点和作用：
      1. cookie存储数据在客户端浏览器
              *存储在客户端的数据，相较不安全，易被串改获取

      2. 浏览器对于单个cookie的大小有限制（4k）以及对同一个域名下的总Cookie数量有所限制(一般在20个以内) 

      *作用：
          1.cookie一般用于存储少量的不太敏感的数据
          2.在不登录的情况下，完成服务器对客户端的身份识别
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/570911275/570911275.github.io/2019/07/18/JavaEE之Cookie小结/" data-id="cjyr8j4tt000aw8tnm62nbq01" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javaEE-基础/">javaEE_基础</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-JavaEE之会话技术概念小结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/18/JavaEE之会话技术概念小结/" class="article-date">
  <time datetime="2019-07-18T05:41:56.000Z" itemprop="datePublished">2019-07-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/18/JavaEE之会话技术概念小结/">JavaEE之会话技术概念小结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="会话技术："><a href="#会话技术：" class="headerlink" title="会话技术："></a>会话技术：</h2><pre><code>1. 会话：一次会话中包含多次请求和响应。
   *一次会话：浏览器第一次给服务器资源发送请求，会话建立，直到有一方断开为止。

2. 功能：在一次会话的范围内的多次请求间，共享数据

3. 方式：
     1.客户端会话技术:Cookie
          *将数据存在客户端
     2.服务器端会话技术：Session
          *将数据存在服务器端
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/570911275/570911275.github.io/2019/07/18/JavaEE之会话技术概念小结/" data-id="cjyr8j4x0001vw8tn1dr1ltla" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javaEE-基础/">javaEE_基础</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-JavaEE之ServletContext小结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/18/JavaEE之ServletContext小结/" class="article-date">
  <time datetime="2019-07-18T03:38:26.000Z" itemprop="datePublished">2019-07-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/18/JavaEE之ServletContext小结/">JavaEE之ServletContext小结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="ServletContext对象"><a href="#ServletContext对象" class="headerlink" title="ServletContext对象"></a>ServletContext对象</h2><pre><code>1.概念：代表整个web应用，可以和程序的容器（服务器）来通信
2.获取：
    1.通过request对象获取
       request.getServletContext();
    2.通过HttpServlet获取
       this.getServletContext();
3.功能：
    1.获取MIME类型：
       *MIME类型：在互联网通信过程中定义的一种文件数据类型
          *格式：大类型/小类型 text/html  image/jpeg

    2.域对象：共享数据
        1.setAttribute(String name,Object value)
        2.getAttribute(String name)
        3.removeAttribute(String name)

        *ServletContex对象范围：所有用户请求的数据

    3.获取文件的真实(服务器)路径
        1.方法：String getRealPath(String path)
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//获取文件的真实路径</span><br><span class="line">String realPath = context.getRealPath(&quot;/WEB-INF/classes/b.text&quot;);//src目录下资源访问</span><br><span class="line">System.out.println(realPath);</span><br><span class="line">File file  = new File(realPath);</span><br><span class="line"></span><br><span class="line">//获取文件的真实路径</span><br><span class="line">String realPath2 = context.getRealPath(&quot;/WEB-INF/c.text&quot;);//WEB-INF目录下资源访问</span><br><span class="line">System.out.println(realPath2);</span><br><span class="line">File file2  = new File(realPath2);</span><br><span class="line"></span><br><span class="line">//获取文件的真实路径</span><br><span class="line">String realPath3 = context.getRealPath(&quot;a.text&quot;);//web目录下资源访问</span><br><span class="line">System.out.println(realPath3);</span><br><span class="line">File file3  = new File(realPath3);</span><br></pre></td></tr></table></figure>
<h2 id="案例："><a href="#案例：" class="headerlink" title="案例："></a>案例：</h2><pre><code>*文件下载需求：
   1.页面显示超链接
   2.点击超链接后弹出下载提示框
   3.完成图片文件下载

 *分析：
    1.超链接指向的资源如果能够被浏览器解析，则在浏览器中展示，如果不能解析，则弹出下载提示框。（不满足需求）
    2.任何资源的必须弹出下载提示框
    3.使用响应头设置资源的打开方式：
          *content-disposition:attachment;filename=xxx

  *步骤：
     1.定义页面，编辑超链接herf属性，指向Servlet，传递资源名称filename
     2.定义Servlet
         1.获取文件名称
         2.使用字节输入流加载文件进内存
         3.指定response的响应头：content-disposition:attachment;filename=xxx
         4.将数据写出到response输出流

  *问题：
    *中文文件问题：
        *解决思路：
            1.获取客户端使用的浏览器版本信息
            2.根据不同的版本信息，设置filename的编码方式不同
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/570911275/570911275.github.io/2019/07/18/JavaEE之ServletContext小结/" data-id="cjyr8j4v40018w8tnhfx2ek67" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javaEE-基础/">javaEE_基础</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-JavaEE之Response小结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/17/JavaEE之Response小结/" class="article-date">
  <time datetime="2019-07-17T13:57:05.000Z" itemprop="datePublished">2019-07-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/17/JavaEE之Response小结/">JavaEE之Response小结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Response对象"><a href="#Response对象" class="headerlink" title="Response对象"></a>Response对象</h2><pre><code>*功能：设置响应消息
   1.设置响应行
       1.格式：HTTP、1.1 200 ok
       2.设置状态码：setStatus(int sc)

   2.设置响应头:setHeader(String name,String value)

   3.设置响应体:
       *使用步骤：
           1.获取输出流
                *字符输出流：PrintWriter getWriter()
                *字节输出流：ServletOutputStream getOutputStream()
           2.使用输出流将数据输出到客户端浏览器

*案例：
   1.完成重定向
      *重定向：资源跳转的方式

      *代码实现：
        //访问这个资源，会自动跳转到、responseDemo02资源
        //1.设置状态码为302
        response.setStatus(302);
        //设置响应头location
        response.setHeader(&quot;location&quot;,&quot;/day15/responseDemo02&quot;);

        //简单的重定向方法
        response.sendRedirect(&quot;/day15/responseDemo02&quot;);

       *重定向的特点：redirect
            1.地址栏路径发生变化
            2.重定向可以访问其他站点(服务器)下的资源
            3.重定向是两次请求，不能使用request对象来共享数据
       *转发的特点(转发也是资源跳转的方式)：forward
            1.转发地址栏路径不变
            2.转发只能访问当前服务器下的资源
            3.转发是一次请求，可以使用request对象来共享数据

       *forward和redirect的区别

       *路径写法：
           1.路径分类：
                1.相对路径：通过相对路径不可以确定唯一资源(jsp中不推荐使用)
                     *如：./index.html
                     *不以/开头，以.开头路径
                     *规则：确定当前资源和目标资源直接的相对位置关系
                        *./：当前目录
                        *../:后退一级目录

                2.绝对路径：通过绝对路径可以确定唯一资源  
                     *如：http://localhost:8080/day15/responseDemo02      简化：/day15/responseDemo02
                     *以/开头的路径
                     *规则：判断定义的路径是给谁用的？判断请求从哪儿发出
                        *给客户端浏览器使用：需要加虚拟目录（项目的访问路径）
                         (重定向是客户端使用，需要加虚拟目录)(建议动态获取)
                        *给服务器使用：不需要加虚拟目录
                        （转发是给服务器使用，可以不加虚拟目录）
                     *动态获取虚拟目录:
                         String contextPath = request.getContextPath();


   2.服务器输出字符数据到浏览器
       *步骤：
          1.获取字符输出流
          2.输出数据
       *乱码原因：编解码的字符集不一样
          1.字符集默认：GBK
          2.解决方法：
            1.PrintWriter pw = response.getWriter();获取的流的默认编码为ISO-8859-1
            2.设置该流的默认编码
            3.告诉浏览器响应体使用的编码
              //获取流对象之前，设置流的默认编码
              response.setCharacterEncoding(&quot;GBK&quot;);

              //告诉浏览器，服务器发送的消息的数据的编码，建议浏览器使用该编码解码
              //包含了上一步
              response.setHeader(&quot;content-type&quot;,&quot;text/html;charset=utf-8&quot;);

              //简单的形式，设置编码
              //为上一步的简化形式
              response.setContentType(&quot;text/html;charset=utf-8&quot;);


   3.服务器输出字节数据到浏览器
       *步骤：
          1.获取字符输出流
          2.输出数据
       *response.setContentType(&quot;text/html;charset=utf-8&quot;);同样要加上此句


   4.验证码
      1.本质：图片
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">    int width = 100;</span><br><span class="line">    int height = 50;</span><br><span class="line">    //1.创建一对象，在内存中图片(验证码图片对象)</span><br><span class="line">    BufferedImage image = new BufferedImage(width,height,BufferedImage.TYPE_INT_RGB);</span><br><span class="line"></span><br><span class="line">    //2.美化图片</span><br><span class="line">    //2.1填充背景色</span><br><span class="line">    Graphics gs = image.getGraphics();//画笔对象</span><br><span class="line">    gs.setColor(Color.PINK);</span><br><span class="line">    gs.fillRect(0,0,width,height);</span><br><span class="line">    //2.2</span><br><span class="line">    gs.setColor(Color.BLUE);</span><br><span class="line">    gs.drawRect(0,0,width-1,height-1);</span><br><span class="line">    //2.3写验证码</span><br><span class="line">    String str =&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789&quot;;</span><br><span class="line">    //生成随机角标</span><br><span class="line">    Random ran = new Random();</span><br><span class="line"></span><br><span class="line">    for(int i=0;i&lt;4;i++) &#123;</span><br><span class="line">        int index = ran.nextInt(str.length());</span><br><span class="line">        //获取字符</span><br><span class="line">        char ch = str.charAt(index);//随机字符</span><br><span class="line">        gs.drawString(ch+&quot;&quot;, width/5*i, height/2);</span><br><span class="line">    &#125;</span><br><span class="line">    //2.4画干扰线</span><br><span class="line">    gs.setColor(Color.GREEN);</span><br><span class="line">    //随机生成坐标点</span><br><span class="line">   for(int i=0;i&lt;10;i++)&#123;</span><br><span class="line">       int x1 = ran.nextInt(width);</span><br><span class="line">       int x2 = ran.nextInt(width);</span><br><span class="line">       int y1 = ran.nextInt(height);</span><br><span class="line">       int y2 = ran.nextInt(height);</span><br><span class="line">       gs.drawLine(x1,x2,y1,y2);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">    //3.将图片输出到页面展示</span><br><span class="line">    ImageIO.write(image,&quot;jpg&quot;,response.getOutputStream());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        window.onload = function()&#123;</span><br><span class="line">            //1.获取图片对象</span><br><span class="line">            var img = document.getElementById(&quot;checkCode&quot;);</span><br><span class="line">            //2.绑定单击事件</span><br><span class="line">            img.onclick = function()&#123;</span><br><span class="line">                //加时间戳</span><br><span class="line">                var date = new Date().getTime();</span><br><span class="line"></span><br><span class="line">                img.src = &quot;/day15/checkCodeServlet?&quot;+date;</span><br><span class="line">            &#125;</span><br><span class="line">            //1.获取图片对象</span><br><span class="line">            var path = document.getElementById(&quot;change&quot;);</span><br><span class="line">            //2.绑定单击事件</span><br><span class="line">            path.onclick = function()&#123;</span><br><span class="line">                //加时间戳</span><br><span class="line">                var date = new Date().getTime();</span><br><span class="line"></span><br><span class="line">                path.src = &quot;/day15/checkCodeServlet?&quot;+date;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">         &lt;img id=&quot;checkCode&quot; src=&quot;/day15/checkCodeServlet&quot;/&gt;</span><br><span class="line">         &lt;a id=&quot;change&quot; href=&quot;&quot;&gt;看不清换一张&lt;/a&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/570911275/570911275.github.io/2019/07/17/JavaEE之Response小结/" data-id="cjyr8j4v10016w8tnbfhp8my2" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javaEE-基础/">javaEE_基础</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/3/">&laquo; 上一页</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/5/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/javaEE-基础/">javaEE_基础</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java-基础/">java_基础</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/javaEE-基础/" style="font-size: 20px;">javaEE_基础</a> <a href="/tags/java-基础/" style="font-size: 10px;">java_基础</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/07/31/新文档8888/">(no title)</a>
          </li>
        
          <li>
            <a href="/2019/07/31/JavaEE之Spring快速入门之下小结/">(no title)</a>
          </li>
        
          <li>
            <a href="/2019/07/26/JavaEE之Spring快速入门之中小结/">JavaEE之Spring快速入门之中小结</a>
          </li>
        
          <li>
            <a href="/2019/07/26/JavaEE之Spring快速入门之上小结/">JavaEE之Spring快速入门之上小结</a>
          </li>
        
          <li>
            <a href="/2019/07/25/JavaEE之MyBatis高级知识之下小结/">JavaEE之MyBatis高级知识之下小结</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>